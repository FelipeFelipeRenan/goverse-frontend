<div
    class="min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-50 to-blue-50 px-4"
>
    <div
        class="max-w-md w-full bg-white p-8 rounded-xl shadow-xl border border-gray-100"
    >
        <!-- Logo/Cabeçalho -->
        <div class="flex justify-center mb-6">
            <div class="bg-blue-600 text-white p-3 rounded-lg shadow-md">
                <svg
                    class="w-8 h-8"
                    fill="none"
                    stroke="currentColor"
                    viewBox="0 0 24 24"
                >
                    <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="M12 11c0 3.517-1.009 6.799-2.753 9.571m-3.44-2.04l.054-.09A13.916 13.916 0 008 11a4 4 0 118 0c0 1.017-.07 2.019-.203 3m-2.118 6.844A21.88 21.88 0 0015.171 17m3.839 1.132c.645-2.266.99-4.659.99-7.132A8 8 0 008 4.07M3 15.364c.64-1.319 1-2.8 1-4.364 0-1.457.39-2.823 1.07-4"
                    />
                </svg>
            </div>
        </div>

        <h2 class="text-3xl font-bold text-gray-800 mb-6 text-center">
            Criar conta no Goverse
        </h2>

        <form
            [formGroup]="signupForm"
            (ngSubmit)="onSubmit()"
            class="space-y-5"
        >
            <!-- Campo Nome -->
            <div>
                <label
                    for="name"
                    class="block text-sm font-medium text-gray-600 mb-1.5"
                >
                    Nome completo
                </label>
                <div class="relative">
                    <div
                        class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"
                    >
                        <svg
                            class="h-5 w-5 text-gray-400"
                            fill="none"
                            stroke="currentColor"
                            viewBox="0 0 24 24"
                        >
                            <path
                                stroke-linecap="round"
                                stroke-linejoin="round"
                                stroke-width="2"
                                d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"
                            />
                        </svg>
                    </div>
                    <input
                        id="name"
                        type="text"
                        formControlName="name"
                        class="block w-full pl-10 pr-3 py-2.5 border border-gray-200 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 placeholder-gray-400 transition-all"
                        placeholder="Seu nome completo"
                        [class.border-red-500]="
                            signupForm.get('name')?.invalid &&
                            signupForm.get('name')?.touched
                        "
                        required
                    />
                </div>
                <div
                    *ngIf="
                        signupForm.get('name')?.invalid &&
                        signupForm.get('name')?.touched
                    "
                    class="text-red-500 text-xs mt-1"
                >
                    <span *ngIf="signupForm.get('name')?.errors?.['required']">
                        Nome é obrigatório.
                    </span>
                </div>
            </div>

            <!-- Campo Email -->
            <div>
                <label
                    for="email"
                    class="block text-sm font-medium text-gray-600 mb-1.5"
                >
                    Email
                </label>
                <div class="relative">
                    <div
                        class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"
                    >
                        <svg
                            class="h-5 w-5 text-gray-400"
                            fill="none"
                            stroke="currentColor"
                            viewBox="0 0 24 24"
                        >
                            <path
                                stroke-linecap="round"
                                stroke-linejoin="round"
                                stroke-width="2"
                                d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"
                            />
                        </svg>
                    </div>
                    <input
                        id="email"
                        type="email"
                        formControlName="email"
                        class="block w-full pl-10 pr-3 py-2.5 border border-gray-200 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 placeholder-gray-400 transition-all"
                        placeholder="exemplo@dominio.com"
                        [class.border-red-500]="
                            signupForm.get('email')?.invalid &&
                            signupForm.get('email')?.touched
                        "
                        required
                    />
                </div>
                <div
                    *ngIf="
                        signupForm.get('email')?.invalid &&
                        signupForm.get('email')?.touched
                    "
                    class="text-red-500 text-xs mt-1"
                >
                    <span *ngIf="signupForm.get('email')?.errors?.['required']">
                        Email é obrigatório.
                    </span>
                    <span *ngIf="signupForm.get('email')?.errors?.['email']">
                        Por favor, insira um email válido.
                    </span>
                </div>
            </div>

            <!-- Campo Senha -->
            <div>
                <label
                    for="password"
                    class="block text-sm font-medium text-gray-600 mb-1.5"
                >
                    Senha
                </label>
                <div class="relative">
                    <div
                        class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"
                    >
                        <svg
                            class="h-5 w-5 text-gray-400"
                            fill="none"
                            stroke="currentColor"
                            viewBox="0 0 24 24"
                        >
                            <path
                                stroke-linecap="round"
                                stroke-linejoin="round"
                                stroke-width="2"
                                d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"
                            />
                        </svg>
                    </div>
                    <input
                        id="password"
                        type="password"
                        formControlName="password"
                        class="block w-full pl-10 pr-3 py-2.5 border border-gray-200 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 placeholder-gray-400 transition-all"
                        placeholder="Crie uma senha segura"
                        [class.border-red-500]="
                            signupForm.get('password')?.invalid &&
                            signupForm.get('password')?.touched
                        "
                        required
                    />
                </div>
                <div
                    *ngIf="
                        signupForm.get('password')?.invalid &&
                        signupForm.get('password')?.touched
                    "
                    class="text-red-500 text-xs mt-1"
                >
                    <span
                        *ngIf="signupForm.get('password')?.errors?.['required']"
                    >
                        Senha é obrigatória.
                    </span>
                    <span
                        *ngIf="signupForm.get('password')?.errors?.['minlength']"
                    >
                        Mínimo de 6 caracteres.
                    </span>
                </div>
            </div>

            <!-- Campo Confirmar Senha -->
            <div>
                <label
                    for="confirmPassword"
                    class="block text-sm font-medium text-gray-600 mb-1.5"
                >
                    Confirmar Senha
                </label>
                <div class="relative">
                    <div
                        class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"
                    >
                        <svg
                            class="h-5 w-5 text-gray-400"
                            fill="none"
                            stroke="currentColor"
                            viewBox="0 0 24 24"
                        >
                            <path
                                stroke-linecap="round"
                                stroke-linejoin="round"
                                stroke-width="2"
                                d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"
                            />
                        </svg>
                    </div>
                    <input
                        id="confirmPassword"
                        type="password"
                        formControlName="confirmPassword"
                        class="block w-full pl-10 pr-3 py-2.5 border border-gray-200 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 placeholder-gray-400 transition-all"
                        placeholder="Confirme sua senha"
                        [class.border-red-500]="
                            (signupForm.get('confirmPassword')?.invalid &&
                                signupForm.get('confirmPassword')?.touched) ||
                            signupForm.hasError('passwordsNotMatch')
                        "
                        required
                    />
                </div>
                <div
                    *ngIf="
                        (signupForm.get('confirmPassword')?.invalid &&
                            signupForm.get('confirmPassword')?.touched) ||
                        signupForm.hasError('passwordsNotMatch')
                    "
                    class="text-red-500 text-xs mt-1"
                >
                    <span
                        *ngIf="signupForm.get('confirmPassword')?.errors?.['required']"
                    >
                        Confirmação de senha é obrigatória.
                    </span>
                    <span
                        *ngIf="
                            signupForm.hasError('passwordsNotMatch') &&
                            signupForm.get('confirmPassword')?.valid
                        "
                    >
                        As senhas não coincidem.
                    </span>
                </div>
            </div>

            <!-- Mensagem de erro -->
            <div *ngIf="error" class="text-red-500 text-sm mt-2 text-center">
                {{ error }}
            </div>

            <!-- Botão Cadastrar -->
            <button
                type="submit"
                [disabled]="loading || signupForm.invalid"
                class="w-full flex justify-center py-2.5 px-4 border border-transparent rounded-lg shadow-sm text-white bg-gradient-to-r from-blue-600 to-blue-500 hover:from-blue-700 hover:to-blue-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 text-sm font-medium transition-all disabled:opacity-70"
            >
                <span *ngIf="!loading">Cadastrar</span>
                <span *ngIf="loading" class="flex items-center">
                    <svg
                        class="animate-spin -ml-1 mr-2 h-4 w-4 text-white"
                        fill="none"
                        viewBox="0 0 24 24"
                    >
                        <circle
                            class="opacity-25"
                            cx="12"
                            cy="12"
                            r="10"
                            stroke="currentColor"
                            stroke-width="4"
                        ></circle>
                        <path
                            class="opacity-75"
                            fill="currentColor"
                            d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"
                        ></path>
                    </svg>
                    Criando conta...
                </span>
            </button>

            <!-- Divisor -->
            <div class="relative">
                <div class="absolute inset-0 flex items-center">
                    <div class="w-full border-t border-gray-200"></div>
                </div>
                <div class="relative flex justify-center text-sm">
                    <span class="px-2 bg-white text-gray-500">ou</span>
                </div>
            </div>
        </form>

        <p class="mt-6 text-center text-sm text-gray-500">
            Já tem uma conta?
            <a
                routerLink="/login"
                (click)="toLogin()"
                class="font-medium text-blue-600 hover:text-blue-500 transition-colors cursor-pointer"
            >
                Faça login
            </a>
        </p>
    </div>
</div>
